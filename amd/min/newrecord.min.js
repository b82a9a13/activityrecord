function newrecord(){const e=["apprentice","reviewdate","standard","eors","coach","morm","coursep","courseep","coursecomment","otjhc","otjhe","otjhcomment","recap","recapimpact","details","detailsmod","impact","mathtoday","mathnext","engtoday","engnext","aln","coachfeed","safeguard","agreedact","apprencom","nextdate","remotef2f","hands","eandd","iaag"],t=$("#ar_error")[0];t.style.display="none";let n=new FormData;n.append("file",$("#file")[0].files[0]),$("#td_file")[0].style.background="",e.forEach(function(e){n.append(e,$(`#${e}`)[0].value.replaceAll("&","($)")),$(`#td_${e}`)[0].style.background=""});const c=new XMLHttpRequest;c.open("POST","./classes/inc/newrecord.inc.php",!0),c.onload=function(){if(200==this.status){const n=JSON.parse(this.responseText);n.error?(t.innerText="Invalid values: ",n.error.forEach(function(n){e.includes(n[0])?($(`#td_${n[0]}`)[0].style.background="red",t.innerText+=n[1]+"|"):"file"==n[0]&&($(`#td_${n[0]}`)[0].style.background="red",t.innerText+=n[1]+"|")}),t.style.display="block"):n.return?window.location.reload():(t.innerText="Creation Error.",t.style.display="block")}else t.innerText="Connection Error.",t.style.display="block"},c.send(n)}function checkbox(e){$(`#${e}check`)[0].checked=!$(`#${e}check`)[0].checked}function check_clicked(e){if(("math"===e||"eng"===e)&&1===$(`#${e}check`).length){const t=$(`#${e}today`)[0],n=$(`#${e}next`)[0];let c,a,o;$(`#${e}check`)[0].checked?($("#func_title0")[0].style.display="",$("#func_title1")[0].style.display="",c=!1,a=!0,o="block"):(c=!0,a=!1,o="none"),t.style.display=o,n.style.display=o,t.disabled=c,n.disabled=c,t.required=a,n.required=a,"none"===$("#mathtoday")[0].style.display&&"none"===$("#engtoday")[0].style.display&&($("#func_title0")[0].style.display="none",$("#func_title1")[0].style.display="none")}}$("#activityrecord_form")[0].action="javascript:newrecord()",$(document).ready(function(){$("#func_div")[0].style.display="";const e=[["math","Maths"],["eng","English"]];e.forEach(function(e){const t=$(`#${e[0]}_title`)[0];t.innerHTML="";const n=document.createElement("p");n.className="c-pointer",n.id=`${e[0]}_p`,n.innerText=`${e[1]} required?`,t.appendChild(n),$(`#${e[0]}_p`).attr("onclick",`checkbox("${e[0]}");check_clicked("${e[0]}");`);const c=document.createElement("input");c.type="checkbox",c.className="c-pointer",c.id=`${e[0]}check`,c.style.display="block",t.appendChild(c),$(`#${e[0]}check`).attr("onclick",`check_clicked("${e[0]}")`)});const t=["mathtoday","mathnext","engtoday","engnext"];t.forEach(function(e){$(`#${e}`).prop("disabled",!0),$(`#${e}`)[0].style.display="none"}),$("#func_title0")[0].style.display="none",$("#func_title1")[0].style.display="none"});